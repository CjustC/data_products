---
output: 
  html_document: 
    keep_md: yes
---
---
title: "Coursera Developing Data Products"
author: "Chana VanNice"
date: "April, 27, 2016"
output:
  html_document:
    keep_md: yes
  pdf_document: default
hitheme: tomorrow
job: null
mode: selfcontained
highlighter: highlight.js
subtitle: Locations of Earthquakes near the Tonga Trench
framework: io2012
widgets: []
knit: slidify::knit2slides

--- .class#id


``` {r prep_enviro, echo = FALSE, message = FALSE, warning = FALSE}
library(knitr)
opts_chunk$set(echo = TRUE, results = 'hold')
library(slidify)
library(slidifyLibraries)
library(shiny)
library(ggplot2)
library(devtools)
library(datasets)
library(googleVis)
library(XML)
library(ggvis)
```


## Locations of Earthquakes near the Tonga Trench 
This is a presentation to show the frequency of earthquakes that occur near the Tonga Trench using various data products.  The presentation will utilize multiple products that were demonstrated in the 'Developing Data Products' course offered by [Coursera](https://www.coursera.org/). 

The data used in this presentation is comprised of the "quake"" dataset,available in RStudio, and from [R bollerqvist](http://ekqvist.goeuropeinfo.com/rbloggerqvist). The Classifications of the earthquakes were obtained from the [Michigan Tech University UPSeis website](http://www.geo.mtu.edu/UPSeis/magnitude.html). 


--- .class #id 

## Data Products 
The following data products were used in this presentation. 

> - [Slidify](http://slidify.org/) Reproducible HTML5 slide decks
> - [Shiny](http://shiny.rstudio.com/) Create interactive web application
> - [Google Chart Tools](https://developers.google.com/chart/) Interactive charts for brosers 
> - [GitHub](https://www.github.com) Web-based Git repository hosting service
> - [Rpubs](http://www.rpubs.com) Web publishing service from R 
 
The GitHub for this entire project is available on:

[https://github.com/CjustC/Developing_Data_Products])(https://github.com/CjustC/Developing_Data_Products) 

--- .class #id

## Tonga Trench

The Tonga Trench is the deepest point in the South Pacific Ocean also known as the "Horizon Deep". The Tonga Trench is a convergent plate boundary with a convergence rate estimated in some places to be approximately 24cm/year, the fastest plate velocity recorded on the planet. The Tonga Trench is part of the "Ring of Fire".

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.width=3, fig.height=4}
# Load data
data(quakes)
# Define variables
mag <- quakes[,4]
stations <- quakes[,5]
magMean <- mean(quakes[,4])

# Plot frequency of earthquakes
hist(mag, col = "pink", main = "Frequency and mean of Earthquakes occuring near the Tonga Trench")
          abline(v=magMean, col = "blue", lwd = 2)
```


```{r classification, echo=FALSE, message = FALSE, warning = FALSE}

# Create classificaiton for quakes
quakes$classification <- NA
quakes$classification[quakes$mag > 2.9] <- "Minor"
quakes$classification[quakes$mag > 3.9] <- "Light"
quakes$classification[quakes$mag > 4.9] <- "Moderate"
quakes$classification[quakes$mag > 5.9] <- "Strong"
quakes$classification[quakes$mag > 6.9] <- "Major"
quakes$classification[quakes$mag > 8] <- "Great"

quakes$classification <- factor(quakes$classification)
classification <- quakes$classification
```


--- .class#id

## Interactive Fiji Map

```{r interactive, echo = FALSE, results = 'asis', tidy = TRUE}

# Interactive map of Earthquakes near Fiji using Google Charts 
# Prepare data for use in interactive chart
# Remove any NULL values
quakes <- na.omit(quakes)

# lat and lon must be the same variable to be used in the plotting of the map
quakes$loc <- paste(quakes$lat, quakes$long, sep = ":")

# Remove any Nulls prior to plotting
quakes <- quakes[complete.cases(quakes),]

# Define Interactive Plot
earthq <- gvisGeoMap(quakes, locationvar="loc", numvar="mag", hovervar="stations", options = list(dataMode="markers", region = "009"))

# Plot
earthq
```

The map shows the earthquake occurrences near the Tonga Trench based on the "quakes" data. Hovering over the green circles displays the station number and magnitude of each quake. The green gradient levels as shown in the "legend"" denotes magnitude level.

--- .class #id

## Shiny Application

The [Shiny application](https://minionapp.shinyapps.io/quake_app/) demonstrates the classification of earthquakes located near the Tonga Trench. The user interaction is to move the slider to any point within the slider range and the application will output the classification of the earthquake.

<center><img src=./assets/img/ShinyApp.png height='50%' width='50%' style='margin:0px; border: 2px solid #0a0942'/></center>
 


 

 
 
 
 

